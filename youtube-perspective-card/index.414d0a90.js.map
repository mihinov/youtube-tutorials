{"mappings":"AAAA,MAAMA,SAAWC,SAASC,gBACpBC,cAAgBC,WAAWC,iBAAiBL,UAAUM,iBAAiB,cACvEC,cAAgBH,WAAWC,iBAAiBL,UAAUM,iBAAiB,cAE7E,IAAIE,SAAW,EACXC,SAAW,EACXC,QAAU,EACVC,QAAU,EACVC,OAAQ,EACZ,MAAMC,KAAO,IAKb,SAASC,OAAOC,GACdL,QAAUK,EAAEC,QAAUD,EAAEC,QAAQ,GAAGC,QAAUF,EAAEE,QAC/CN,QAAUI,EAAEC,QAAUD,EAAEC,QAAQ,GAAGE,QAAUH,EAAEG,QAGhDR,QAAUS,KAAKC,IAAID,KAAKE,IAAIX,QAAS,GAAIY,OAAOC,YAChDZ,QAAUQ,KAAKC,IAAID,KAAKE,IAAIV,QAAS,GAAIW,OAAOE,aAGhDZ,OAAQ,CACT,CAEA,SAASa,WAEM,IAAVb,QACHF,QAAUP,cAAgBmB,OAAOC,WACjCZ,QAAUJ,cAAgBe,OAAOE,YACjChB,SAAWE,QACXD,SAAWE,SAGZH,WAAwBE,QAAUF,UAAYK,KAC9CJ,WAAwBE,QAAUF,UAAYI,KAG9C,IAAIa,EAAIlB,SAAWc,OAAOC,WACtBI,EAAIlB,SAAWa,OAAOE,YAG1BE,EAAItB,WAAWsB,EAAEE,QAAQ,IACzBD,EAAIvB,WAAWuB,EAAEC,QAAQ,IAGxB,MAAMC,EAAQzB,WAAWC,iBAAiBL,UAAUM,iBAAiB,cAC/DwB,EAAQ1B,WAAWC,iBAAiBL,UAAUM,iBAAiB,cAGjEoB,IAAMG,GACR5B,SAASC,gBAAgB6B,MAAMC,YAAY,YAAaN,GAGtDC,IAAMG,GACR7B,SAASC,gBAAgB6B,MAAMC,YAAY,YAAaL,GAI3DM,sBAAsBR,QACvB,CAlDAH,OAAOY,iBAAiB,YAAapB,QACrCQ,OAAOY,iBAAiB,YAAapB,QAmDrCW","sources":["youtube-perspective-card/index.js"],"sourcesContent":["const htmlNode = document.documentElement;\nconst defaultMouseX = parseFloat(getComputedStyle(htmlNode).getPropertyValue('--mouse-x'));\nconst defaultMouseY = parseFloat(getComputedStyle(htmlNode).getPropertyValue('--mouse-y'));\n\nlet currentX = 0;\nlet currentY = 0;\nlet targetX = 0;\nlet targetY = 0;\nlet moved = false;\nconst ease = 0.05; // значение, определяющее скорость анимации или изменения координат\n\nwindow.addEventListener('mousemove', onMove);\nwindow.addEventListener('touchmove', onMove);\n\nfunction onMove(e) {\n  targetX = e.touches ? e.touches[0].clientX : e.clientX;\n  targetY = e.touches ? e.touches[0].clientY : e.clientY;\n\n\t// это сделано, чтобы не выходить за пределы экрана браузера\n\ttargetX = Math.min(Math.max(targetX, 0), window.innerWidth);\n\ttargetY = Math.min(Math.max(targetY, 0), window.innerHeight);\n\t// это сделано, чтобы не выходить за пределы экрана браузера\n\n\tmoved = true;\n}\n\nfunction animate() {\n\t\n\tif (moved === false) {\n\t\ttargetX = defaultMouseX * window.innerWidth;\n\t\ttargetY = defaultMouseY * window.innerHeight;\n\t\tcurrentX = targetX;\n\t\tcurrentY = targetY;\n\t}\n\t\n\tcurrentX = currentX + ((targetX - currentX) * ease);\n\tcurrentY = currentY + ((targetY - currentY) * ease);\n\n\t// преобразуем координаты в диапазон от 0 до 1\n\tlet x = currentX / window.innerWidth;\n\tlet y = currentY / window.innerHeight;\n\n\t// округляем до 3 чисел после запятой\n\tx = parseFloat(x.toFixed(3));\n\ty = parseFloat(y.toFixed(3));\n\n  // Получаем прошлые CSS значения x и y, если они не равнялись прошлым, то перезаписать их\n  const lastX = parseFloat(getComputedStyle(htmlNode).getPropertyValue('--mouse-x'));\n  const lastY = parseFloat(getComputedStyle(htmlNode).getPropertyValue('--mouse-y'));\n\n\t// устанавливаем соответствующие CSS-переменные\n  if (x !== lastX) {\n    document.documentElement.style.setProperty('--mouse-x', x);\n  }\n\n  if (y !== lastY) {\n    document.documentElement.style.setProperty('--mouse-y', y);\n  }\n\n\n\trequestAnimationFrame(animate);\n}\n\nanimate();"],"names":["htmlNode","document","documentElement","defaultMouseX","parseFloat","getComputedStyle","getPropertyValue","defaultMouseY","currentX","currentY","targetX","targetY","moved","ease","onMove","e","touches","clientX","clientY","Math","min","max","window","innerWidth","innerHeight","animate","x","y","toFixed","lastX","lastY","style","setProperty","requestAnimationFrame","addEventListener"],"version":3,"file":"index.414d0a90.js.map"}