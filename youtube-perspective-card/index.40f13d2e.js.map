{"mappings":"ACAA,MAAM,EAAW,SAAS,eAA1B,CACM,EAAgB,WAAW,iBAAiB,GAAU,gBAAA,CAAiB,cACvE,EAAgB,WAAW,iBAAiB,GAAU,gBAAA,CAAiB,cAE7E,IAAI,EAAW,EACX,EAAW,EACX,EAAU,EACV,EAAU,EACV,EAAW,CAAA,EAWf,SAAS,EAAO,CAAC,EACf,EAAU,EAAE,OAAA,CAAU,EAAE,OAAO,CAAC,EAAE,CAAC,OAAA,CAAU,EAAE,OAA/C,CACA,EAAU,EAAE,OAAA,CAAU,EAAE,OAAO,CAAC,EAAE,CAAC,OAAA,CAAU,EAAE,OAA/C,CAGD,EAAU,KAAK,GAAA,CAAI,KAAK,GAAA,CAAI,EAAS,GAAI,OAAO,UAAhD,EACA,EAAU,KAAK,GAAA,CAAI,KAAK,GAAA,CAAI,EAAS,GAAI,OAAO,WAAhD,EAGA,QAAQ,GAAA,CAAI,GAEZ,EAAW,CAAA,CACZ,CApBA,OAAO,gBAAA,CAAiB,cAAe,GACvC,OAAO,gBAAA,CAAiB,YAAa,GA2DrC,AAtCA,SAAS,IAES,CAAA,IAAb,IACH,EAAU,EAAgB,OAAO,UAAjC,CACA,EAAU,EAAgB,OAAO,WAAjC,CACA,EAAW,EACX,EAAW,EACX,EAAW,CAAA,GAGZ,GAAuB,AAAC,CAAA,EAAU,CAAA,EAlCtB,IAmCZ,GAAuB,AAAC,CAAA,EAAU,CAAA,EAnCtB,IAsCZ,IAAI,EAAI,EAAW,OAAO,UAA1B,CACI,EAAI,EAAW,OAAO,WAA1B,CAGA,EAAI,WAAW,EAAE,OAAA,CAAQ,IACzB,EAAI,WAAW,EAAE,OAAA,CAAQ,IAGxB,IAAM,EAAQ,WAAW,iBAAiB,GAAU,gBAAA,CAAiB,cAC/D,EAAQ,WAAW,iBAAiB,GAAU,gBAAA,CAAiB,cAGjE,IAAM,GACR,SAAS,eAAA,CAAgB,KAAA,CAAM,WAAA,CAAY,YAAa,GAGtD,IAAM,GACR,SAAS,eAAA,CAAgB,KAAA,CAAM,WAAA,CAAY,YAAa,GAI3D,sBAAsB,EACvB","sources":["<anon>","youtube-perspective-card/index.js"],"sourcesContent":["const htmlNode = document.documentElement;\nconst defaultMouseX = parseFloat(getComputedStyle(htmlNode).getPropertyValue(\"--mouse-x\"));\nconst defaultMouseY = parseFloat(getComputedStyle(htmlNode).getPropertyValue(\"--mouse-y\"));\nlet currentX = 0;\nlet currentY = 0;\nlet targetX = 0;\nlet targetY = 0;\nlet animated = false;\nconst ease = 0.05; // значение, определяющее скорость анимации или изменения координат\nwindow.addEventListener(\"pointermove\", onMove);\nwindow.addEventListener(\"touchmove\", onMove);\n// window.addEventListener('resize')\nfunction onResize(e) {}\nfunction onMove(e) {\n    targetX = e.touches ? e.touches[0].clientX : e.clientX;\n    targetY = e.touches ? e.touches[0].clientY : e.clientY;\n    // это сделано, чтобы не выходить за пределы экрана браузера\n    targetX = Math.min(Math.max(targetX, 0), window.innerWidth);\n    targetY = Math.min(Math.max(targetY, 0), window.innerHeight);\n    // это сделано, чтобы не выходить за пределы экрана браузера\n    console.log(targetX);\n    animated = true;\n}\nfunction animate() {\n    if (animated === false) {\n        targetX = defaultMouseX * window.innerWidth;\n        targetY = defaultMouseY * window.innerHeight;\n        currentX = targetX;\n        currentY = targetY;\n        animated = true;\n    }\n    currentX = currentX + (targetX - currentX) * ease;\n    currentY = currentY + (targetY - currentY) * ease;\n    // преобразуем координаты в диапазон от 0 до 1\n    let x = currentX / window.innerWidth;\n    let y = currentY / window.innerHeight;\n    // округляем до 3 чисел после запятой\n    x = parseFloat(x.toFixed(3));\n    y = parseFloat(y.toFixed(3));\n    // Получаем прошлые CSS значения x и y, если они не равнялись прошлым, то перезаписать их\n    const lastX = parseFloat(getComputedStyle(htmlNode).getPropertyValue(\"--mouse-x\"));\n    const lastY = parseFloat(getComputedStyle(htmlNode).getPropertyValue(\"--mouse-y\"));\n    // устанавливаем соответствующие CSS-переменные\n    if (x !== lastX) document.documentElement.style.setProperty(\"--mouse-x\", x);\n    if (y !== lastY) document.documentElement.style.setProperty(\"--mouse-y\", y);\n    requestAnimationFrame(animate);\n}\nanimate();\n\n//# sourceMappingURL=index.40f13d2e.js.map\n","const htmlNode = document.documentElement;\nconst defaultMouseX = parseFloat(getComputedStyle(htmlNode).getPropertyValue('--mouse-x'));\nconst defaultMouseY = parseFloat(getComputedStyle(htmlNode).getPropertyValue('--mouse-y'));\n\nlet currentX = 0;\nlet currentY = 0;\nlet targetX = 0;\nlet targetY = 0;\nlet animated = false;\nconst ease = 0.05; // значение, определяющее скорость анимации или изменения координат\n\nwindow.addEventListener('pointermove', onMove);\nwindow.addEventListener('touchmove', onMove);\n// window.addEventListener('resize')\n\nfunction onResize(e) {\n\n}\n\nfunction onMove(e) {\n  targetX = e.touches ? e.touches[0].clientX : e.clientX;\n  targetY = e.touches ? e.touches[0].clientY : e.clientY;\n\n\t// это сделано, чтобы не выходить за пределы экрана браузера\n\ttargetX = Math.min(Math.max(targetX, 0), window.innerWidth);\n\ttargetY = Math.min(Math.max(targetY, 0), window.innerHeight);\n\t// это сделано, чтобы не выходить за пределы экрана браузера\n\n\tconsole.log(targetX);\n\n\tanimated = true;\n}\n\nfunction animate() {\n\n\tif (animated === false) {\n\t\ttargetX = defaultMouseX * window.innerWidth;\n\t\ttargetY = defaultMouseY * window.innerHeight;\n\t\tcurrentX = targetX;\n\t\tcurrentY = targetY;\n\t\tanimated = true;\n\t}\n\n\tcurrentX = currentX + ((targetX - currentX) * ease);\n\tcurrentY = currentY + ((targetY - currentY) * ease);\n\n\t// преобразуем координаты в диапазон от 0 до 1\n\tlet x = currentX / window.innerWidth;\n\tlet y = currentY / window.innerHeight;\n\n\t// округляем до 3 чисел после запятой\n\tx = parseFloat(x.toFixed(3));\n\ty = parseFloat(y.toFixed(3));\n\n  // Получаем прошлые CSS значения x и y, если они не равнялись прошлым, то перезаписать их\n  const lastX = parseFloat(getComputedStyle(htmlNode).getPropertyValue('--mouse-x'));\n  const lastY = parseFloat(getComputedStyle(htmlNode).getPropertyValue('--mouse-y'));\n\n\t// устанавливаем соответствующие CSS-переменные\n  if (x !== lastX) {\n    document.documentElement.style.setProperty('--mouse-x', x);\n  }\n\n  if (y !== lastY) {\n    document.documentElement.style.setProperty('--mouse-y', y);\n  }\n\n\n\trequestAnimationFrame(animate);\n}\n\nanimate();\n"],"names":["htmlNode","document","documentElement","defaultMouseX","parseFloat","getComputedStyle","getPropertyValue","defaultMouseY","currentX","currentY","targetX","targetY","animated","onMove","e","touches","clientX","clientY","Math","min","max","window","innerWidth","innerHeight","console","log","addEventListener","animate","x","y","toFixed","lastX","lastY","style","setProperty","requestAnimationFrame"],"version":3,"file":"index.40f13d2e.js.map"}