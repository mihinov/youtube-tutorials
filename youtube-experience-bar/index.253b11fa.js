const e=document.querySelector(".input-aurum"),a=document.querySelector(".injected-bar");if(null===a||null===e)throw Error("Что-то не найдено");const t=new class{constructor(e){this._grades={0:{name:"Iron",min:0,max:60,nextGradeId:1},1:{name:"Platinum",min:60,max:150,nextGradeId:2},2:{name:"Diamond",min:150,max:300,nextGradeId:3},3:{name:"Master",min:300,max:500,nextGradeId:4},4:{name:"Grandmaster",min:500,max:800,nextGradeId:5},5:{name:"Challenger",min:800,max:1e5,nextGradeId:null}},this._cssClasses={balance:"balance",balanceTotal:"balance__total",balanceProgress:"balance__progress",balanceGradeStart:"balance__grade_start",balanceGradeEnd:"balance__grade_end"},this._balance={initBalance:0,addedBalance:0,totalBalance:0},this._currentGradeId=-1,this._initNodes(e),this._calcCurrentGradeId(),this._renderBalance()}_initNodes(e){e.innerHTML=`
			<div class="balance">
				<div class="balance__text">
					\u{412}\u{430}\u{448} \u{431}\u{430}\u{43B}\u{430}\u{43D}c:
					<span class="balance__total">0</span>
				</div>
				<progress class="balance__progress"></progress>
				<div class="balance__grades">
					<div class="balance__grade balance__grade_start">Iron</div>
					<div class="balance__grade balance__grade_end">Platinum</div>
				</div>
			</div>
		`;let a=this._querySelector(e,"."+this._cssClasses.balance);this._nodes={balanceNode:a,balanceTotalNode:this._querySelector(a,"."+this._cssClasses.balanceTotal),balanceProgressNode:this._querySelector(a,"."+this._cssClasses.balanceProgress),balanceGradeStartNode:this._querySelector(a,"."+this._cssClasses.balanceGradeStart),balanceGradeEndNode:this._querySelector(a,"."+this._cssClasses.balanceGradeEnd)}}_querySelector(e,a){let t=e.querySelector(a);if(null===t)throw Error(`ExperienceBar: \u{44D}\u{43B}\u{435}\u{43C}\u{435}\u{43D}\u{442} \u{441} \u{43A}\u{43B}\u{430}\u{441}\u{441}\u{43E}\u{43C} ${a} \u{43D}\u{435} \u{43D}\u{430}\u{439}\u{434}\u{435}\u{43D}`);return t}addBalance(e){this._balance.addedBalance=e,this._calcTotalBalance(),this._calcCurrentGradeId(),this._renderBalance()}setInitBalance(e){this._balance.initBalance=e,this._calcTotalBalance(),this._calcCurrentGradeId(),this._renderBalance()}_renderBalance(){let e=this.getCurrentGrade(),a=this._grades[this._currentGradeId+1],t=this._balance.totalBalance,n=e.max,r=e.min;this._nodes.balanceProgressNode.setAttribute("min",String(0)),this._nodes.balanceProgressNode.setAttribute("max",String(n-r)),this._nodes.balanceProgressNode.value=t-r,this._nodes.balanceTotalNode.textContent=String(t),this._nodes.balanceGradeStartNode.textContent=e.name,void 0!==a?this._nodes.balanceGradeEndNode.textContent=a.name:this._nodes.balanceGradeEndNode.textContent="∞"}_calcTotalBalance(){this._balance.totalBalance=this._balance.initBalance+this._balance.addedBalance}_calcCurrentGradeId(){let e=this._balance.totalBalance;for(let a in this._grades){let t=this._grades[a],n=t.min,r=t.max;if(e>=n&&e<r){this._currentGradeId=Number(a);break}}}getCurrentGrade(){if(-1===this._currentGradeId)throw Error("ExperienceBar: текущий грейд не установлен");return this._grades[this._currentGradeId]}}(a);t.setInitBalance(30),e.addEventListener("input",()=>{let a=e.value;parseFloat(a)>=0&&!isNaN(parseFloat(a))?t.addBalance(parseFloat(a)):""===a&&t.addBalance(0)});
//# sourceMappingURL=index.253b11fa.js.map
