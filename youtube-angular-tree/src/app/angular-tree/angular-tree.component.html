<ul>
  @for (node of nodes$ | async; track node.id) {
    <li [attr.node-id]="node.id">
      <div class="label-wrapper">
        <div
          class="expand-more"
          [ngClass]="{
            'expand-more_none': !node.expandable,
            'expand-more_closed': node.expandableClosed
          }"
          (click)="expandNodeToggle(node)"
        ></div>
        <label class="label" [attr.id]="node.id">
          <input
            type="checkbox"
            [indeterminate]="isNodeIndeterminate(node)"
            [checked]="isNodeChecked(node)"
            (change)="onNodeCheckedChange($event, node)"
            >
            <span
            >{{ node.name }}</span>
          </label>
        </div>
        <div class="next-tree" #nextTree>
          @if (node.child.length !== 0) {
            <app-angular-tree
              [nodes$]="transfromChildIntoObs(node.child)"
            ></app-angular-tree>
          }
        </div>
      </li>
    }
  </ul>
