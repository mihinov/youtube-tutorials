import{A as z,Aa as U,Ba as A,Ca as J,Da as v,Ea as _,Fa as d,G as R,Ga as a,Ha as p,Ia as x,Ja as I,K as L,Ka as K,La as l,Ma as s,N as q,Na as $,O as B,Oa as u,Pa as O,Qa as Q,Ra as V,Sa as W,Ta as b,Ua as T,Va as X,db as Y,eb as Z,ha as G,i as w,ia as i,ib as ee,jb as te,l as F,la as H,p as k,pa as r,x as j,ya as c,za as m}from"./chunk-R25UZP2M.js";var h=class t{constructor(n){this._http=n}_searchTrigger$$=new w(null);_loading$$=new w(!1);triggerSearch(n){this._searchTrigger$$.next({query:n.query,sort:n.sort??"stars",order:n.order??"desc"})}getRepos(){return this._searchTrigger$$.pipe(R(n=>!n||!n.query?F([]):(this._loading$$.next(!0),this._searchTrigger$$.pipe(j(2500),R(e=>{e=e;let o=new ee().set("q",`${e.query} in:name`).set("sort",e.sort??"stars").set("order",e.order??"desc");return this._http.get("https://api.github.com/search/repositories",{params:o}).pipe(k(f=>f.items),z(()=>this._loading$$.next(!1)))})))))}getLoadingStatus(){return this._loading$$.asObservable()}static \u0275fac=function(e){return new(e||t)(q(te))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};function oe(t,n){if(t&1&&(a(0,"p",5),s(1),p()),t&2){let e=l();i(),$(e.repo.description)}}function ie(t,n){if(t&1&&(a(0,"span"),s(1),p()),t&2){let e=l();i(),$(e.repo.language)}}function re(t,n){if(t&1&&(a(0,"span"),s(1),p()),t&2){let e=l();i(),u("\u{1F4C4} ",e.repo.license.name)}}var S=class t{repo;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=r({type:t,selectors:[["app-github-repo"]],inputs:{repo:"repo"},decls:18,vars:14,consts:[[1,"repo-card"],[1,"repo-card-wrapper"],[1,"repo-header"],[1,"owner-avatar",3,"src","alt"],["target","_blank","rel","noopener noreferrer",1,"repo-name",3,"href"],[1,"repo-description"],[1,"repo-stats"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),x(3,"img",3),a(4,"div")(5,"a",4),s(6),p(),c(7,oe,2,1,"p",5),p()(),a(8,"div",6),c(9,ie,2,1,"span"),a(10,"span"),s(11),p(),a(12,"span"),s(13),p(),a(14,"span"),s(15),b(16,"date"),p(),c(17,re,2,1,"span"),p()()()),e&2&&(i(3),I("alt",W(o.repo.owner.login))("src",o.repo.owner.avatar_url,G),i(2),I("href",o.repo.html_url,G),i(),u(" ",o.repo.full_name," "),i(),m(o.repo.description?7:-1),i(2),m(o.repo.language?9:-1),i(2),u("\u2B50 ",o.repo.stargazers_count),i(2),u("\u{1F374} ",o.repo.forks_count),i(2),u("\u{1F552} ",X(16,11,o.repo.updated_at,"mediumDate")),i(2),m(o.repo.license?17:-1))},dependencies:[Z],styles:[".repo-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border:1px solid var(--color-border);border-radius:.75rem;background:var(--color-bg);transition:box-shadow .2s,background .2s,border .2s}.repo-card-wrapper[_ngcontent-%COMP%]{overflow:hidden}.repo-card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px var(--color-card-shadow)}.repo-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem}.owner-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%}.repo-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:var(--color-link);text-decoration:none}.repo-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.repo-description[_ngcontent-%COMP%]{margin:.25rem 0 0;color:var(--color-muted);font-size:.9rem}.repo-stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-top:.75rem;font-size:.85rem;color:var(--color-muted)}"],changeDetection:0})};var y=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=r({type:t,selectors:[["app-spinner"]],decls:1,vars:0,consts:[[1,"spinner"]],template:function(e,o){e&1&&x(0,"div",0)},styles:['.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:50px;width:50px;margin:20px auto;position:relative}.spinner[_ngcontent-%COMP%]:after{content:"";width:40px;height:40px;border:4px solid var(--spinner-bg);border-top:4px solid var(--spinner-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}'],changeDetection:0})};var ae=(t,n)=>n.id;function pe(t,n){t&1&&d(0,"app-spinner")}function se(t,n){if(t&1&&d(0,"app-github-repo",1),t&2){let e=n.$implicit;J("repo",e)}}function ce(t,n){if(t&1&&(v(0,"div",0),U(1,se,1,1,"app-github-repo",1,ae),_()),t&2){l();let e=V(2);i(),A(e)}}var D=class t{_githubSearchService=B(h);repos$=this._githubSearchService.getRepos();loading$=this._githubSearchService.getLoadingStatus();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=r({type:t,selectors:[["app-github-repos"]],decls:6,vars:7,consts:[[1,"repos-wrapper"],[3,"repo"]],template:function(e,o){if(e&1&&(O(0),b(1,"async"),O(2),b(3,"async"),c(4,pe,1,0,"app-spinner"),c(5,ce,3,0,"div",0)),e&2){let f=T(1,2,o.loading$);i(2);let M=Q(T(3,4,o.repos$));i(2),m(f?4:-1),i(),m(M&&!f?5:-1)}},dependencies:[S,y,Y],styles:[".repos-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"],changeDetection:0})};var E=class t{constructor(n){this._githubSearchService=n}triggerSearch(n){let o=n.target.value;this._githubSearchService.triggerSearch({query:o})}static \u0275fac=function(e){return new(e||t)(H(h))};static \u0275cmp=r({type:t,selectors:[["app-github-search"]],decls:1,vars:0,consts:[["name","search","type","text","placeholder","\u041D\u0430\u0439\u0442\u0438 \u0440\u0435\u043F\u043E\u0437\u0438\u0442\u043E\u0440\u0438\u0438","autofocus","",1,"text-input",3,"input"]],template:function(e,o){e&1&&(a(0,"input",0),K("input",function(M){return o.triggerSearch(M)}),p())},styles:[".text-input[_ngcontent-%COMP%]{max-width:400px}"],changeDetection:0})};var P=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=r({type:t,selectors:[["app-github"]],decls:2,vars:0,template:function(e,o){e&1&&d(0,"app-github-search")(1,"app-github-repos")},dependencies:[D,E],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem}"],changeDetection:0})};var N=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=r({type:t,selectors:[["app-page-main"]],decls:2,vars:0,consts:[[1,"container"]],template:function(e,o){e&1&&(v(0,"div",0),d(1,"app-github"),_())},dependencies:[P],encapsulation:2,changeDetection:0})};export{N as default};
